	<!doctype html>
	<html lang="en" xmlns:th="https://www.thymeleaf.com">
	<head>
	
		<meta charset="utf-8">
		<meta name="viewport" content="width=device-width, initial-scale=1">
		<link
			href="https://cdn.jsdelivr.net/npm/bootstrap@5.0.2/dist/css/bootstrap.min.css"
			rel="stylesheet"
			integrity="sha384-EVSTQN3/azprG1Anm3QDgpJLIm9Nao0Yz1ztcQTwFspd3yD65VohhpuuCOmLASjC"
			crossorigin="anonymous">
			
			<link rel="icon" type="x-icon" href="images/logo.png">
		<title th:text="${title} ?: 'ReviewBox'">ReviewBox</title>
		<link href="css/style.css" rel="stylesheet"/>
	
		</head>
	<body>


	<nav class="navbar navbar-expand-lg navbar-light" style="background-color: black;">
	  <div class="container-fluid">
		<img src="images/logo.png" alt="logo" width="3%"/> &nbsp;&nbsp;&nbsp;
		
	    	<a class="navbar-brand text-white" href="/"
	      style="font-family:'Lucida Sans', 'Lucida Sans Regular', 'Lucida Grande', 'Lucida Sans Unicode', Geneva, Verdana, sans-serif;font-weight: bold;font-size: 28px;">ReviewBox</a>
		
	    	<button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbarSupportedContent"
	      aria-controls="navbarSupportedContent" aria-expanded="false" aria-label="Toggle navigation">
		
	      <span class="navbar-toggler-icon"></span>
	    	</button>
		
	    <div class="collapse navbar-collapse" id="navbarSupportedContent">
	      <ul class="navbar-nav me-auto mb-2 mb-lg-0">
			
	        <li class="nav-item">
	          <a class="nav-link active text-white" aria-current="page" href="/">Home</a>
	        </li>
		  
	        <li class="nav-item">
	          <a class="nav-link text-white" href="films">Films</a>
	        </li>
		  
	        <li class="nav-item">
	          <a class="nav-link text-white" href="myReviews">My Reviews</a>
	        </li>
		  
	        <li class="nav-item">
	          <a class="nav-link text-white" href="addFilms">Add Film</a>
	        </li>
		  
	      </ul>
	      </li>

	    </div>
	  </div>
	</nav>
	  <div class="container my-5 p-5" style="border:1px solid black;background-color: whitesmoke;position: relative; border-radius: 20px;">
	      <h4 class="text-center">Add A Movie</h4>

	      <form class="row" th:action="@{/save}" method="post" enctype="multipart/form-data">
	          <div class="row d-flex justify-content-between">
	              <!-- Drop Area on the Left -->
	              <div class="col-md-4 d-flex align-items-center justify-content-center">
	                  <div id="drop-area" class="text-center">
	                      <p>Drag and Drop an image here or click to upload 
	                          <label for="fileInput" style="color: aqua;cursor: pointer;text-decoration: underline;">
	                              Browse
	                          </label>
	                      </p>
	                      <input type="file" name="imageFile" id="fileInput" accept="image/*">
	                      <img src="" id="preview" alt="preview" style="display: none;">
	                  </div>
	              </div>

	              <!-- Input Fields on the Right -->
	              <div class="col-md-8">
	                  <div class="mb-3">
	                      <label for="name" class="form-label">Movie Name</label>
	                      <input type="text" class="form-control" name="name">
	                  </div>

	                  <div class="mb-3">
	                      <label for="description" class="form-label">Description</label>
	                      <input type="text" class="form-control" name="description">
	                  </div>

	                  <div class="mb-3">
	                      <label for="director" class="form-label">Director</label>
	                      <input type="text" class="form-control" name="director">
	                  </div>

	                  <div class="mb-3">
	                      <label for="cast" class="form-label">Cast</label>
	                      <input type="text" class="form-control" name="cast">
	                  </div>

	                  <div class="mb-3">
	                      <label for="music" class="form-label">Music</label>
	                      <input type="text" class="form-control" name="music">
	                  </div>

	                  <div class="mb-3">
	                      <label for="year" class="form-label">Released Year</label>
	                      <input type="text" class="form-control" name="year">
	                  </div>

	                  <div class="mb-3">
	                      <label for="genre" class="form-label">Genre</label>
	                      <input type="text" class="form-control" name="genre">
	                  </div>

	                  <div class="mb-3">
	                      <label for="language" class="form-label">Language</label>
	                      <input type="text" class="form-control" name="language">
	                  </div>

	                  <div class="mb-3">
	                      <label for="duration" class="form-label">Duration</label>
	                      <input type="text" class="form-control" name="duration">
	                  </div>

	                  <div th:if="${errorMessage}" class="alert alert-danger">
	                      <p th:text="${errorMessage}"></p>
	                  </div>

	                  <div>
	                      <button type="submit" class="btn btn-primary">Submit</button>
	                      <button type="cancel" class="btn btn-secondary">Cancel</button>
	                  </div>
	              </div>
	          </div>
	      </form>
	  </div>



	<script
		src="https://cdn.jsdelivr.net/npm/bootstrap@5.0.2/dist/js/bootstrap.bundle.min.js"
		integrity="sha384-MrcW6ZMFYlzcLA8Nl+NtUVF0sA7MsXsP1UyJoMp4YLEuNSfAP+JcXn/tWtIaxVXM"
		crossorigin="anonymous"></script>
	<script
		src="https://cdn.jsdelivr.net/npm/@popperjs/core@2.9.2/dist/umd/popper.min.js"
		integrity="sha384-IQsoLXl5PILFhosVNubq5LC7Qb9DXgDA9i+tQ8Zj3iwWAwPtgFTxbJ8NT4GN1R8p"
		crossorigin="anonymous"></script>
	<script
		src="https://cdn.jsdelivr.net/npm/bootstrap@5.0.2/dist/js/bootstrap.min.js"
		integrity="sha384-cVKIPhGWiC2Al4u+LWgxfKTRIcfu0JTxR+EQDz/bgldoEyl4H0zUF0QKbrJ0EcQF"
		crossorigin="anonymous"></script>

    <script>
        const dropArea = document.getElementById('drop-area');
        const fileInput = document.getElementById('fileInput');
        const preview = document.getElementById('preview');

        ['dragenter', 'dragover', 'dragleave', 'drop'].forEach(eventName => {
            dropArea.addEventListener(eventName, (e)=> e.preventDefault());
        });

        ['dragenter', 'dragover'].forEach(eventName => {
            dropArea.addEventListener(eventName, () => {
                dropArea.classList.add('highlight');
            });
        });

        ['dragleave', 'drop'].forEach(eventName => {
            dropArea.addEventListener(eventName, () => {
                dropArea.classList.remove('highlight');
            });
        });

        dropArea.addEventListener('drop',(e)=>{
            e.preventDefault();
            let files = e.dataTransfer.files;
            handleFiles(files);
        })

        fileInput.addEventListener('change',(e)=>{
            handleFiles(fileInput.files);
        });

        function handleFiles(files){
            if(files.length>0)
        {
            let file = files[0];
            if(file.type.startsWith('image/'))
            {
                let reader = new FileReader();
                reader.onload = function(e){
                    preview.src = e.target.result;
                    preview.style.display = 'block';
                };
                reader.readAsDataURL(file);
            } else {
                alert('Please upload an image file');
            }
        }
        }
    </script>

</body>
</html>